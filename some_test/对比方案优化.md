# 对比方案优化

## 故事背景

一个用户一条数据，每条是一个用户的多个特征，例如有30个。现需要根据这些特征是否相同来判断用户是否属于同类。

对比方式是依次看每个特征值是否相同。比较特殊的是特征取值，普通取值在0~1000，但是每个特征都可以取值为x，未知值，与任意值相等。

怎么能高效的将这一批用户进行对比，划分成相同属性用户组？

## 优化尝试

### 初始方案

最简单的肯定是 nxn 的方案，两层循环对比。但是目前数据量有8w，明显跑不出来。

### 第一次优化尝试

从目前的数据特征上来看，每个特征的取值虽然是0~1000，但是整体表现上每个特征的取值一般都在300种左右。

如果用初始方案，那么计算量和行数是关联的。能不能把和行的关联转换成和列的关联。当然行数肯定还是有影响，但是能不能消除n^2？
